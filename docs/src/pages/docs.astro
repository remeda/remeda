---
import FunctionCard from "@/components/function-card.astro";
import { Navbar } from "@/components/navbar";
import Layout from "@/layouts/layout.astro";
import { CATEGORIZED } from "@/lib/categorized";
import { NAVBAR_ENTRIES } from "@/lib/navbar-categories";
import { flat, map, pipe, values } from "remeda";
---

<Layout class="flex flex-1 items-stretch gap-6 overflow-hidden">
  <aside class="mt-6 hidden w-60 pl-6 md:block">
    <Navbar entries={NAVBAR_ENTRIES} client:load />
  </aside>
  <ul class="flex-1 overflow-hidden overflow-y-auto">
    {
      pipe(
        CATEGORIZED,
        values,
        flat(),
        map((func) => (
          <li class="m-6 md:ml-0">
            <FunctionCard func={func} />
          </li>
        )),
      )
    }
  </ul>
</Layout>
