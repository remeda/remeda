---
import MappingFunctionCard from "@/components/mapping-function-card.astro";
import DocsPage from "@/layouts/docs-page.astro";
import { getMappingEntries } from "@/lib/mappings";
import { entries, flatMap, pipe, sortBy } from "remeda";

const LIBRARY = "ramda";

const mappingEntries = await getMappingEntries(LIBRARY);

const forDisplay = pipe(
  mappingEntries,
  entries(),
  sortBy(([category]) => category),
  flatMap(([, functions]) => functions),
);
---

<DocsPage categorized={mappingEntries}>
  {
    forDisplay.map(({ name }) => (
      <MappingFunctionCard name={name} library={LIBRARY} />
    ))
  }
</DocsPage>
