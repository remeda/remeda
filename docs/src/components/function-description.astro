---
import GithubSource from "@/components/github-source.astro";
import Markdown from "@/components/markdown.astro";
import { Badge } from "@/components/ui/badge";
import { CardTitle } from "@/components/ui/card";
import { getTags } from "@/lib/get-tags";
import type { DocumentedFunction } from "@/lib/transform";

type Props = {
  readonly func: DocumentedFunction;
};

const { func } = Astro.props;
---

<>
  <div class="flex items-center gap-2">
    <CardTitle className="flex-1 text-2xl">{func.name}</CardTitle>
    <Badge>{func.category}</Badge>
    {
      getTags(func).map((tag) => (
        <Badge variant={tag} className="capitalize">
          {tag}
        </Badge>
      ))
    }
    {func.sourceUrl !== undefined && <GithubSource url={func.sourceUrl} />}
  </div>
  {func.description !== undefined && <Markdown markdown={func.description} />}
</>
