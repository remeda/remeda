---
import { asHtml } from "@/lib/as-html";

type Props = {
  readonly markdown?: string;
  readonly className?: string;
};

const { markdown, className } = Astro.props;
---

<article
  class={`prose prose-slate dark:prose-invert prose-code:text-primary prose-code:before:content-none prose-code:after:content-none ${className ?? ""}`}
  set:html={markdown === undefined ? undefined : asHtml(markdown)}
>
  {
    // Only use the slot if we haven't already set the inner HTML via `set:html`
    markdown === undefined ? <slot /> : undefined
  }
</article>
