---
import { buttonVariants } from "@/components/ui/button";
import type { CollectionEntry, CollectionKey } from "astro:content";
import { SquarePenIcon } from "lucide-react";

const GITHUB_EDIT_BASE_URL =
  "https://github.com/remeda/remeda/edit/main/docs/src/content/";

type Props<C extends CollectionKey> = {
  readonly entry: CollectionEntry<C>;
};

const {
  entry: { collection, id },
} = Astro.props;

const url = new URL(`${collection}/${id}`, GITHUB_EDIT_BASE_URL);
---

<a
  class:list={buttonVariants({ variant: "secondary", size: "sm" })}
  href={url}
  target="_blank"
  title="Edit on Github"
>
  <SquarePenIcon />
  <span class="sr-only">View source on GitHub</span>
</a>
