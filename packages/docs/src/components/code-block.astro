---
import { cn } from "@/lib/utils";
import { Code } from "astro:components";
import { format, type Options } from "prettier";

export const THEME = "poimandres";

const PRETTIER_OPTIONS = {
  parser: "typescript",
} as const satisfies Options;

type Props = {
  readonly class?: string;
  readonly code: string;
};

const { code, class: class_ } = Astro.props;

const formattedCode = await format(code, PRETTIER_OPTIONS);
---

<Code
  class:list={cn("rounded-sm px-4 py-2", class_)}
  code={formattedCode}
  lang="typescript"
  theme={THEME}
  wrap
/>
