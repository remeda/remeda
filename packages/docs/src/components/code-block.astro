---
import { format, type Options } from "prettier";
import ThemedCode from "./themed-code.astro";

const PRETTIER_OPTIONS = {
  parser: "typescript",
} as const satisfies Options;

type Props = {
  readonly class?: string;
  readonly code: string;
};

const { code, class: class_ } = Astro.props;

const formattedCode = await format(code, PRETTIER_OPTIONS);
---

<ThemedCode
  class:list={["rounded-sm px-4 py-2", class_]}
  code={formattedCode}
  lang="typescript"
  wrap
/>
