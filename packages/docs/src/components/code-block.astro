---
import { Code } from "astro:components";
import { format, type Options } from "prettier";

export const THEME = "poimandres";

const PRETTIER_OPTIONS = {
  parser: "typescript",
} as const satisfies Options;

type Props = {
  readonly code: string;
};

const { code } = Astro.props;

const formattedCode = await format(code, PRETTIER_OPTIONS);
---

<style is:global>
  .astro-code {
    @apply rounded px-4 py-2;
  }
</style>

<Code code={formattedCode} lang="typescript" theme={THEME} wrap />
